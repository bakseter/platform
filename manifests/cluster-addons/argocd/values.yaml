argo-cd:
  global:
    domain: argocd.bakseter.net
    revisionHistoryLimit: 1
    networkPolicy:
      create: false # TODO: enable

  configs:
    repositories:
      argocd:
        url: https://github.com/bakseter/whpah

    cm:
      admin.enabled: true
      dex.config: |
        connectors:
          - type: authproxy
            id: oauth2-proxy
            name: OAuth2-Proxy
            config:
              userHeader: X-Auth-Request-Email
              groupHeader: X-Auth-Request-Groups
              staticGroups:
                - default

    rbac:
      policy.default: ''
      scopes: '[groups, email]'
      policy.csv: |
        p, role:org-admin, *, get, *, allow
        p, role:org-admin, applications, sync, *, allow
        p, role:org-admin, applicationsets, sync, *, allow
        g, andreas_tkd@hotmail.com, role:org-admin

    dex:
      enabled: true

    params:
      server.insecure: true
      dexserver.log.level: debug

  notifications:
    enabled: false
